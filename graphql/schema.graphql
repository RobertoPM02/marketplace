"A datetime string with format `Y-m-d H:i:s`."
scalar DateTime
  @scalar(class: "Nuwave\\Lighthouse\\Schema\\Types\\Scalars\\DateTime")

type Query {
  user(
    id: ID @eq @rules(apply: ["prohibits:email", "required_without:email"])
    email: String @eq @rules(apply: ["prohibits:id", "required_without:id", "email"])
  ): User @find

  users(
    name: String @where(operator: "like")
  ): [User!]! @paginate(defaultCount: 10)
}

type User {
  id: ID!
  name: String!
  email: String!
  number: String! @rename(attribute: "phone_number")
  email_verified_at: DateTime
  created_at: DateTime!
  updated_at: DateTime!
}

type AuthPayload {
  access_token: String!
  token_type: String!
  user: User!
}

type Mutation {

   login(
    login: String!
      @rules(
        apply: ["required"]
        messages: {
          required: "El correo o nombre de usuario es obligatorio"
        }
      )

    password: String!
      @rules(
        apply: ["required", "min:8"]
        messages: {
          required: "La contraseña es obligatoria"
          min: "La contraseña debe tener al menos 8 caracteres"
        }
      )
  ): AuthPayload
    @field(resolver: "App\\GraphQL\\Mutations\\Login")

  logout: Boolean!
    @field(resolver: "App\\GraphQL\\Mutations\\Logout")
}
